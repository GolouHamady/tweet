{% extends "base.html" %}


{% block script %}

<script>
	$(document).ready(function(){
		loadTweetContainer("tweet-container")
	});
</script>

{% endblock script %}

{% block content %}
<div class="col-sm-3" style="">
	<h1>{{ object.username }}</h1>
	<span> followers: {{ object.followed_by.count }}</span>
	<p>
		<a class="btn btn-link" href='{{ object.profile.get_following_url }}'>
			{% if following %}Unfollow {% else %} follow {% endif %}
		</a>
	</p>
	<hr/>
	<h1>Following <small>{{ object.profile.get_following.count }}</small> </h1>
	{% for user in object.profile.get_following %}
	<a href='/profiles/{{user.username}}'>{{ user.username }}</a><br/>
	{% empty %}
	<h4>Not following this user</h4>
	{% endfor %}

	<h1>Followed by</h1>
	{% for profile in object.followed_by.all %}
	<a href='/profiles/{{profile.user.username}}'>{{ profile.user.username }}</a><br/>
	{% empty %}
	<h4>Not followed by any user</h4>
	{% endfor %}

</div>

<div class="col-sm-9">
	<h1>Tweets</h1>
	<div id="tweet-container" data-url='/api/{{ object.username }}/tweet'>
	</div>
	<a href="" id="loadmore">Load More tweet</a>

</div>

{% endblock %}